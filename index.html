<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="description" content="G.Barbershop">

    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self' 'unsafe-inline' https://app.cal.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; img-src 'self' data: https:; connect-src 'self' https://app.cal.com; frame-src https://app.cal.com;">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta name="referrer" content="strict-origin-when-cross-origin">

    <title>G.Barbershop</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;600;700;800&family=Assistant:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Styles -->
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="#contact" class="cta-button">×§×‘×¢ ×ª×•×¨</a>
            <div class="logo">G.barbershop</div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-background">
            <img src="images/image.png" alt="××¡×¤×¨×ª G.Barbershop">
        </div>
        <div class="hero-overlay"></div>

        <!-- Floating Particles -->


        <div class="hero-content">
            <h1>G.barbershop</h1>
            <div class="hero-buttons">
                <a href="#contact" class="cta-button">×§×‘×¢ ×ª×•×¨ ×¢×›×©×™×•</a>
                <a href="#gallery" class="secondary-button">×¦×¤×” ×‘×¢×‘×•×“×•×ª ×©×œ× ×•</a>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section class="gallery reveal" id="gallery">
        <div class="section-container">
            <h2 class="section-title">×”×¢×‘×•×“×•×ª ×©×œ× ×•</h2>
            <div class="gallery-grid">
                <div class="gallery-item">
                    <img src="images/WhatsApp Image 2025-11-08 at 01.02.24 (1).jpeg" alt="×ª×¡×¤×•×¨×ª ×¤×™×™×“ ×§×œ××¡×™×ª"
                        loading="lazy">
                    <div class="gallery-overlay">
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="images/WhatsApp Image 2025-11-08 at 01.02.24 (2).jpeg" alt="×ª×¡×¤×•×¨×ª ×˜×™×™×¤×¨ ××•×“×¨× ×™×ª"
                        loading="lazy">
                    <div class="gallery-overlay">
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="images/WhatsApp Image 2025-11-08 at 01.02.24 (3).jpeg" alt="×ª×¡×¤×•×¨×ª ××¨×§×" loading="lazy">
                    <div class="gallery-overlay">
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="images/WhatsApp Image 2025-11-08 at 01.02.24.jpeg" alt="×¤×™×™×“ × ×§×™" loading="lazy">
                    <div class="gallery-overlay">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact reveal" id="contact">
        <div class="section-container">
            <div class="contact-content">
                <h2 class="section-title">×¦×•×¨ ×§×©×¨</h2>
                <p>××•×›×Ÿ ×œ×©×“×¨×’ ××ª ×”×¡×˜×™×™×œ ×©×œ×š? ×§×‘×¢ ×ª×•×¨ ×”×™×•×!</p>

                <div class="contact-info">
                    <div class="contact-item">
                        <div class="contact-item-icon">ğŸ“</div>
                        <h3>××™×§×•×</h3>
                        <p><a href="https://waze.com/ul?q=×™×©×•×¨×•×Ÿ 2 ×¨××ª ×’×Ÿ ×™×©×¨××œ&navigate=yes" target="_blank"
                                rel="noopener noreferrer">×™×©×•×¨×•×Ÿ 2,
                                ×¨××ª ×’×Ÿ, ×™×©×¨××œ</a></p>
                    </div>
                    <div class="contact-item">
                        <div class="contact-item-icon">ğŸ“</div>
                        <h3>×˜×œ×¤×•×Ÿ</h3>
                        <p><a href="https://wa.me/972585003624" target="_blank"
                                rel="noopener noreferrer">058-500-3624</a></p>
                    </div>
                    <div class="contact-item">
                        <div class="contact-item-icon">â°</div>
                        <h3>×©×¢×•×ª ×¤×¢×™×œ×•×ª</h3>
                        <p>××³-×•×³: 09:00 - 20:00<br>×©×‘×ª: 10:00 - 18:00</p>
                    </div>
                </div>

                <div class="social-links">
                    <a href="#" class="social-icon" aria-label="××™× ×¡×˜×’×¨×"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="social-icon" aria-label="×˜×™×§×˜×•×§"><i class="fab fa-tiktok"></i></a>
                    <a href="https://wa.me/972585003624" class="social-icon" aria-label="×•×•×¦××¤" target="_blank"
                        rel="noopener noreferrer"><i class="fab fa-whatsapp"></i></a>
                </div>

                <div style="margin-top: 3rem;">
                    <a href="#contact" class="cta-button">×§×‘×¢ ××ª ×”×ª×•×¨ ×©×œ×š</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="section-container">
            <p>&copy; 2025 G.Barbershop. ×›×œ ×”×–×›×•×™×•×ª ×©××•×¨×•×ª. × ×•×¦×¨ ×‘××¦×•×™× ×•×ª.</p>
        </div>
    </footer>

    <!-- Booking Modal -->
    <div class="booking-modal" id="bookingModal">
        <div class="booking-modal-overlay" onclick="closeBookingModal()"></div>
        <div class="booking-modal-content">
            <button class="booking-modal-close" onclick="closeBookingModal()" aria-label="×¡×’×•×¨">
                âœ•
            </button>
            <div class="booking-modal-header">
                <h2>×§×‘×™×¢×ª ×ª×•×¨</h2>
                <p>×‘×—×¨ ××ª ×”×ª××¨×™×š ×•×”×©×¢×” ×”××ª××™××™× ×œ×š</p>
            </div>
            <div class="booking-iframe-container">
                <!-- Loading state -->
                <div class="booking-loading" id="bookingLoading">
                    <div class="loading-spinner"></div>
                    <p>×˜×•×¢×Ÿ ××ª ×œ×•×— ×”×–×× ×™×...</p>
                </div>
                <!-- Cal.com embed will be loaded here -->
                <div id="bookingContainer" style="width:100%;height:100%;min-height:500px;"></div>
            </div>
        </div>
    </div>

    <!-- Cal.com Embed Script -->
    <script>
        (function (C, A, L) {
            let p = function (a, ar) {
                a.q.push(ar);
            };
            let d = C.document;
            C.Cal = C.Cal || function () {
                let cal = C.Cal;
                let ar = arguments;
                if (!cal.loaded) {
                    cal.ns = {};
                    cal.q = cal.q || [];
                    d.head.appendChild(d.createElement("script")).src = A;
                    cal.loaded = true;
                }
                if (ar[0] === L) {
                    const api = function () {
                        p(api, arguments);
                    };
                    const namespace = ar[1];
                    api.q = api.q || [];
                    typeof namespace === "string" ? (cal.ns[namespace] = api) && p(api, ar) : p(cal, ar);
                    return;
                }
                p(cal, ar);
            };
        })(window, "https://app.cal.com/embed/embed.js", "init");
    </script>

    <!-- JavaScript -->
    <script>
        // ==================== BOOKING MODAL FUNCTIONS ====================

        let calBookingInitialized = false;

        function openBookingModal() {
            const modal = document.getElementById('bookingModal');
            modal.classList.add('active');
            document.body.style.overflow = 'hidden'; // Prevent background scrolling

            // Initialize Cal.com booking only once
            if (!calBookingInitialized) {
                initializeCalBooking();
                calBookingInitialized = true;
            }
        }

        function closeBookingModal() {
            const modal = document.getElementById('bookingModal');
            modal.classList.remove('active');
            document.body.style.overflow = ''; // Restore scrolling
        }

        function initializeCalBooking() {
            // Initialize Cal.com embed with Hebrew namespace and locale
            Cal("init", "×ª×¡×¤×•×¨×ª", {
                origin: "https://app.cal.com"
            });

            // Cal.com inline embed for barbershop haircut booking
            Cal.ns["×ª×¡×¤×•×¨×ª"]("inline", {
                elementOrSelector: "#bookingContainer",
                calLink: "gal-××‘×¨×”××™-9cpkfo/×ª×¡×¤×•×¨×ª",
                config: {
                    layout: "month_view",
                    theme: "dark"
                }
            });

            // Configure UI with Hebrew locale
            Cal.ns["×ª×¡×¤×•×¨×ª"]("ui", {
                hideEventTypeDetails: false,
                layout: "month_view",
                styles: {
                    branding: {
                        brandColor: "#8a2be2"
                    }
                }
            });

            // Hide loading spinner after Cal.com loads
            setTimeout(() => {
                const loadingElement = document.getElementById('bookingLoading');
                if (loadingElement) {
                    loadingElement.style.display = 'none';
                }
            }, 2000); // Give Cal.com time to load
        }

        // Close modal when pressing Escape key
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape') {
                closeBookingModal();
            }
        });

        // Update all booking buttons to open modal
        document.addEventListener('DOMContentLoaded', function () {
            // Get all elements that should open the booking modal
            const bookingButtons = document.querySelectorAll('a[href="#contact"].cta-button, a.cta-button');

            bookingButtons.forEach(button => {
                button.addEventListener('click', function (e) {
                    e.preventDefault();
                    openBookingModal();
                });
            });
        });

        // ==================== EXISTING FUNCTIONS ====================

        // Navbar scroll effect
        const navbar = document.getElementById('navbar');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // Scroll reveal animation
        const reveals = document.querySelectorAll('.reveal');

        const revealOnScroll = () => {
            const windowHeight = window.innerHeight;
            const revealPoint = 100;

            reveals.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;

                if (elementTop < windowHeight - revealPoint) {
                    element.classList.add('active');
                }
            });
        };

        window.addEventListener('scroll', revealOnScroll);
        revealOnScroll(); // Initial check

        // Smooth scroll for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Gallery item tap effect for mobile
        const galleryItems = document.querySelectorAll('.gallery-item');
        galleryItems.forEach(item => {
            // Mobile touch handling
            item.addEventListener('touchstart', (e) => {
                item.classList.add('active-touch');
            });

            item.addEventListener('touchend', () => {
                setTimeout(() => {
                    item.classList.remove('active-touch');
                }, 300);
            });
        });



        // Add loading state to images
        const images = document.querySelectorAll('img');
        images.forEach(img => {
            img.addEventListener('load', function () {
                this.classList.remove('loading');
            });

            if (!img.complete) {
                img.classList.add('loading');
            }
        });

        // Optimize scroll performance for mobile
        let ticking = false;
        window.addEventListener('scroll', () => {
            if (!ticking) {
                window.requestAnimationFrame(() => {
                    revealOnScroll();
                    ticking = false;
                });
                ticking = true;
            }
        });

        // CTA button pulse effect
        const ctaButtons = document.querySelectorAll('.cta-button');
        ctaButtons.forEach(btn => {
            btn.addEventListener('mouseenter', function () {
                this.style.animation = 'none';
                setTimeout(() => {
                    this.style.animation = '';
                }, 10);
            });
        });

        // Console Easter Egg
        console.log('%cğŸ”¥ ×‘×¨×•×›×™× ×”×‘××™× ×œ-G.Barbershop ğŸ”¥', 'color: #8a2be2; font-size: 20px; font-weight: bold;');
    </script>
</body>

</html>